(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{11:function(e,t,n){e.exports=n(23)},17:function(e,t,n){},21:function(e,t,n){},23:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(10),u=n.n(c),o=(n(17),n(2)),s=n(3),i=n(5),l=n(4),h=n(6),f=n(1),m=n.n(f),p=n(7),y=n(8);var C=function(e){var t=e.state,n=t.currencies.sort(function(e,t){return e.name<t.name?-1:1}).filter(function(e){return"(none)"!==e.code}).map(function(e){var t=e.code;return 3!==e.code.length&&(t=t.slice(0,3)),a.a.createElement("option",{key:t},e.name)});return a.a.createElement("form",null,a.a.createElement("input",{name:"fromCurrencyValue",type:"number",value:t.fromCurrencyValue,onChange:e.onChange}),a.a.createElement("select",{name:"fromCurrency",value:t.fromCurrency,onChange:e.onChange},n),a.a.createElement("br",null),a.a.createElement("input",{name:"toCurrencyValue",type:"number",value:t.toCurrencyValue,onChange:e.onChange}),a.a.createElement("select",{name:"toCurrency",value:t.toCurrency,onChange:e.onChange},n))},v=function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(i.a)(this,Object(l.a)(t).call(this))).onChange=function(t){var n=t.target,r=n.name,a=n.value;if("fromCurrencyValue"===r||"toCurrencyValue"===r){if(parseInt(a)<0||0===a.length)return;"0"===a[0]&&a.length>1&&(a=a.slice(1)),e.setState(Object(y.a)({},r,a))}"fromCurrency"!==r&&"toCurrency"!==r||e.setState(Object(y.a)({},r,a))},e.state={fromCurrencyValue:0,toCurrencyValue:0,currencies:[],rates:{},fromCurrency:"Afghan afghani",toCurrency:"Afghan afghani"},e}return Object(h.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=Object(p.a)(m.a.mark(function e(){var t,n;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fetchCurrencies();case 2:return t=e.sent,e.next=5,this.fetchExchangeRates();case 5:n=e.sent,this.setState({currencies:t,rates:n});case 7:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(e,t,n){var r=this.state,a=r.fromCurrency,c=r.toCurrency,u=this.getCodeFromCurrency(a),o=this.getCodeFromCurrency(c),s=Math.round(100*this.calculateExchangeRate(u,o))/100;this.state.fromCurrency!==this.state.toCurrency&&(this.state.fromCurrencyValue!==t.fromCurrencyValue&&this.setState({toCurrencyValue:parseFloat(this.state.fromCurrencyValue)*s}),this.state.toCurrencyValue!==t.toCurrencyValue&&this.setState({fromCurrencyValue:parseFloat(this.state.toCurrencyValue)/s}))}},{key:"fetchCurrencies",value:function(){var e=Object(p.a)(m.a.mark(function e(){var t,n,r,a,c,u,o,s,i,l,h;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return"https://restcountries.eu/rest/v2/all?fields=currencies",e.next=3,fetch("https://restcountries.eu/rest/v2/all?fields=currencies");case 3:return t=e.sent,e.next=6,t.json();case 6:for(n=e.sent,r=n.map(function(e){return e.currencies}).flat(),a=[],c=new Map,u=!0,o=!1,s=void 0,e.prev=13,i=r[Symbol.iterator]();!(u=(l=i.next()).done);u=!0)h=l.value,c.has(h.code)||void 0===h.code||(c.set(h.code,!0),a.push(h));e.next=21;break;case 17:e.prev=17,e.t0=e.catch(13),o=!0,s=e.t0;case 21:e.prev=21,e.prev=22,u||null==i.return||i.return();case 24:if(e.prev=24,!o){e.next=27;break}throw s;case 27:return e.finish(24);case 28:return e.finish(21);case 29:return e.abrupt("return",a);case 30:case"end":return e.stop()}},e,this,[[13,17,21,29],[22,,24,28]])}));return function(){return e.apply(this,arguments)}}()},{key:"fetchExchangeRates",value:function(){var e=Object(p.a)(m.a.mark(function e(){var t,n,r;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return"87b72015c61840739f82c13f99bf8240",t="http://apilayer.net/api/live?access_key=".concat("87b72015c61840739f82c13f99bf8240","&source=USD"),e.next=4,fetch(t);case 4:return n=e.sent,e.next=7,n.json();case 7:return r=e.sent,e.abrupt("return",r.quotes);case 9:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"calculateExchangeRate",value:function(e,t){var n=this.state.rates["USD".concat(e)];return this.state.rates["USD".concat(t)]/n}},{key:"getCodeFromCurrency",value:function(e){var t=this.state.currencies.find(function(t){return t.name===e});if(void 0!==t)return t.code}},{key:"render",value:function(){return a.a.createElement("div",null,a.a.createElement(C,{onChange:this.onChange,state:this.state}),a.a.createElement("p",null,this.state.fromCurrencyValue," ",this.state.fromCurrency," (",this.getCodeFromCurrency(this.state.fromCurrency)||"AFN",")"),a.a.createElement("p",null,"equals"),a.a.createElement("p",null,this.state.toCurrencyValue," ",this.state.toCurrency," (",this.getCodeFromCurrency(this.state.toCurrency)||"AFN",")"),a.a.createElement("p",null))}}]),t}(a.a.Component),d=(n(21),function(e){function t(){return Object(o.a)(this,t),Object(i.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return a.a.createElement("div",{className:"App"},a.a.createElement("header",{className:"App-header"},a.a.createElement(v,null)))}}]),t}(r.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));u.a.render(a.a.createElement(d,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[11,2,1]]]);
//# sourceMappingURL=main.460013dc.chunk.js.map