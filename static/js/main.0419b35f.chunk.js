(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{11:function(e,t,n){e.exports=n(23)},17:function(e,t,n){},21:function(e,t,n){},23:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(10),u=n.n(c),o=(n(17),n(2)),s=n(3),i=n(5),l=n(4),h=n(6),f=n(1),p=n.n(f),m=n(7),y=n(8);var C=function(e){var t=e.state,n=Object.keys(t.currencies).sort(function(e,t){return e<t?-1:1}).map(function(e){return a.a.createElement("option",{key:t.currencies[e]},e)});return a.a.createElement("form",null,a.a.createElement("input",{name:"fromCurrencyValue",type:"number",value:t.fromCurrencyValue,onChange:e.onChange}),a.a.createElement("select",{name:"fromCurrency",value:t.fromCurrency,onChange:e.onChange},n),a.a.createElement("br",null),a.a.createElement("input",{name:"toCurrencyValue",type:"number",value:t.toCurrencyValue,onChange:e.onChange}),a.a.createElement("select",{name:"toCurrency",value:t.toCurrency,onChange:e.onChange},n))},g=function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(i.a)(this,Object(l.a)(t).call(this))).onChange=function(t){var n=t.target,r=n.name,a=n.value;if("fromCurrencyValue"===r||"toCurrencyValue"===r){var c,u,o;if(parseInt(a)<0||0===a.length)return;"0"===a[0]&&a.length>1&&(a=a.slice(1));var s=e.state,i=s.fromCurrency,l=s.toCurrency,h=e.state.currencies[i]||"AFN",f=e.state.currencies[l]||"AFN",p=Math.round(100*e.calculateExchangeRate(h,f))/100;console.log(h,f,p),"fromCurrencyValue"===r?(u="toCurrencyValue",o="".concat(100*parseInt(a)*(100*p)/1e4)):(u="fromCurrencyValue",o="".concat(100*parseInt(a)/(100*p))),e.setState((c={},Object(y.a)(c,r,a),Object(y.a)(c,u,o),c))}"fromCurrency"!==r&&"toCurrency"!==r||e.setState(Object(y.a)({},r,a))},e.apiKey="3234bbf539744667a9ace28d3e3bde97",e.state={fromCurrencyValue:0,toCurrencyValue:0,currencies:{},rates:{},fromCurrency:"Afghan afghani",toCurrency:"Afghan afghani",fromManualChange:!1,toManualChange:!1},e}return Object(h.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=Object(m.a)(p.a.mark(function e(){var t,n;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fetchCurrencies();case 2:return t=e.sent,console.log("currencies",t),e.next=6,this.fetchExchangeRates();case 6:n=e.sent,console.log("rates",n),this.setState({currencies:t,rates:n});case 9:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchCurrencies",value:function(){var e=Object(m.a)(p.a.mark(function e(){var t,n,r,a,c,u;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t="https://openexchangerates.org/api/currencies.json?app_id=".concat(this.apiKey),e.next=3,fetch(t);case 3:return n=e.sent,e.next=6,n.json();case 6:for(u in r=e.sent,a=Object.assign({},r),c={},a)c[a[u]]=u;return e.abrupt("return",c);case 11:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchExchangeRates",value:function(){var e=Object(m.a)(p.a.mark(function e(){var t,n,r;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t="https://openexchangerates.org/api/latest.json?app_id=".concat(this.apiKey),e.next=3,fetch(t);case 3:return n=e.sent,e.next=6,n.json();case 6:return r=e.sent,e.abrupt("return",r.rates);case 8:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"calculateExchangeRate",value:function(e,t){var n=this.state.rates["".concat(e)];return this.state.rates["".concat(t)]/n}},{key:"render",value:function(){return a.a.createElement("div",null,a.a.createElement(C,{onChange:this.onChange,state:this.state}),a.a.createElement("p",null,this.state.fromCurrencyValue," ",this.state.fromCurrency,"(",this.state.currencies[this.state.fromCurrency]||"AFN",")"),a.a.createElement("p",null,"equals"),a.a.createElement("p",null,this.state.toCurrencyValue," ",this.state.toCurrency,"(",this.state.currencies[this.state.toCurrency]||"AFN",")"),a.a.createElement("p",null))}}]),t}(a.a.Component),v=(n(21),function(e){function t(){return Object(o.a)(this,t),Object(i.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return a.a.createElement("div",{className:"App"},a.a.createElement("header",{className:"App-header"},a.a.createElement(g,null)))}}]),t}(r.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));u.a.render(a.a.createElement(v,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[11,2,1]]]);
//# sourceMappingURL=main.0419b35f.chunk.js.map